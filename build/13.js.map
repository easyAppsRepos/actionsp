{"version":3,"sources":["../../src/pages/actividad/actividad.module.ts","../../src/pages/actividad/actividad.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActividadPage } from './actividad';\n\n@NgModule({\n  declarations: [\n    ActividadPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ActividadPage),\n  ],\n})\nexport class ActividadPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/actividad/actividad.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ApiProvider } from '../../providers/api/api';\nimport { ModalController } from 'ionic-angular';\nimport { LoadingController } from 'ionic-angular';\nimport { Events } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular';\n/**\n * Generated class for the ActividadPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-actividad',\n  templateUrl: 'actividad.html',\n})\n\n\n\nexport class ActividadPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public apiProvider: ApiProvider, public loadingController:LoadingController, private alertCtrl: AlertController,\n  public modalCtrl : ModalController, public events: Events) {\n\n   this.actividadData = {};\n   this.proximoEjercicio={};\n   this.ejercicioCompletado = false;\n\n      events.subscribe('registrarNuevoEjercicio', (ejercicioNuevo) => {\n      this.proximoEjercicio = ejercicioNuevo;\n      console.log(this.proximoEjercicio);\n\n      });\n\n\n\n\n\n  }\n\n\n  ionViewWillEnter(){\n        //agregar alert de no se cargo ok\n    let loading = this.loadingController.create({content : \"cargando...\"});\n    loading.present();\n    console.log(this.navParams.get('idActividad'));\n    return this.apiProvider.getActividadData(this.navParams.get('idActividad'))\n    .then(data => {\n    console.log(data);\n    this.actividadData = data[0]; \n    loading.dismissAll();\n    });\n\n    }\n\n  recargarEjercicio(){\n        //agregar alert de no se cargo ok\n    let loading = this.loadingController.create({content : \"cargando...\"});\n    loading.present();\n   this.apiProvider.getActividadData(this.proximoEjercicio.idActividad)\n    .then(data => {\n    console.log(data);\n      this.ejercicioCompletado = false;\n    this.actividadData = data[0]; \n    loading.dismissAll();\n    });\n\n    }\n\n\n\n  ionViewDidLoad() {\n\n  this.proximoEjercicio.idActividad=this.navParams.get('idActividad');\n  this.proximoEjercicio.idRutinaActividad=this.navParams.get('idR');\n\n    }\n\n  actualizarRutina(){\n    \n    this.events.publish('updateRutin');\n\n    }\n\n\n\tpresentAlert(titulo,mensaje) {\n\t  let alert = this.alertCtrl.create({\n\t    title: titulo,\n\t    subTitle: mensaje,\n\t    buttons: ['Cerrar']\n\t  });\n\t  alert.present();\n\t}\n\n\n    openModal(){\n    var modalPage = this.modalCtrl.create('LoginPage');\n    modalPage.present();\n    }\n\n\ngetNuevoEjercicio(){\n  /*\n      this.apiProvider.siguienteEjercicioUsuario(this.idUsuario)\n      .then(data => {\n      console.log(data.data[0]);\n      this.proximoEjercicio = data.data[0];\n       //console.log(this.proximoEjercicio);\n      });\n*/\n\n}\n\n   completarEjercicioApi() {\n console.log( 'adsasda');\n   console.log( this.idUsuario);\n\n    let loading = this.loadingController.create({content : \"cargando...\"});\n\tloading.present();\n\n  console.log(this.proximoEjercicio.idActividad);\n  console.log(this.proximoEjercicio.idRutinaActividad);\n  console.log(this.idUsuario);\n\n\n    this.apiProvider.completarEjercicio(this.proximoEjercicio.idActividad,this.proximoEjercicio.idRutinaActividad,this.idUsuario)\n    .then(data => {\n      console.log(data);\n      loading.dismissAll();  \n      if(data.data.affectedRows > 0){\t\n\n      this.events.publish('updateRutin');\n\n      \tthis.ejercicioCompletado = true;\n      \t\n       // this.getNuevoEjercicio();\n\n        this.presentAlert('Enhorabuena!','Has completado el ejercicio');\n\n\n        \n\n\n      }\n          \n    });\n  }\n\n\n  completarEjercicio() {\n\n  let alert = this.alertCtrl.create({\n    title: 'Completar',\n    message: 'Deseas marcar como completado este ejercicio?',\n    buttons: [\n      {\n        text: 'Cancelar',\n        role: 'cancel',\n        handler: () => {\n          console.log('Cancel clicked');\n        }\n      },\n      {\n        text: 'Completar',\n        handler: () => {\n          console.log('COMPLETADO');\n          this.completarEjercicioApi();\n        }\n      }\n    ]\n  });\n\n\n  this.apiProvider.verificarLogin()\n    .then(data => {    \n      console.log(data);\n      data ? this.idUsuario = data.idUsuario : console.log('nouser');\n      data ? alert.present() : this.openModal();\n     });\n\n  \n}\n\n\n\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/actividad/actividad.ts"],"sourceRoot":""}