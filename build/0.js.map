{"version":3,"sources":["../../src/pages/reservar/reservar.module.ts","../../src/pages/reservar/reservar.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ReservarPage } from './reservar';\n\n@NgModule({\n  declarations: [\n    ReservarPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ReservarPage),\n  ],\n})\nexport class ReservarPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reservar/reservar.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ApiProvider } from '../../providers/api/api';\nimport { LoadingController } from 'ionic-angular';\nimport { ModalController } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular';\n/**\n * Generated class for the ReservarPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-reservar',\n  templateUrl: 'reservar.html',\n})\nexport class ReservarPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public apiProvider: ApiProvider, public loadingController:LoadingController, public modalCtrl : ModalController, private alertCtrl: AlertController) {\n  }\n\n\n  ionViewDidLoad() {\n\n    let loading = this.loadingController.create({content : \"cargando...\"});\n    loading.present();\n\n    return this.apiProvider.getClasesReserva()\n    .then(data => {\n       console.log(data);\n       this.valoresClases = (Object.values(data));\n  \t  loading.dismissAll();\n    });\n\n    }\n\n\nremoveDuplicatesBy(prop, array) {\n  var mySet = new Set();\n  return array.filter(function(x) {\n    var key = x[prop], isNew = !mySet.has(key);\n    if (isNew) mySet.add(key);\n    return isNew;\n  });\n}\n\n    cambioDeHora(valorSeleccionado){\n    this.idClaseReservaSeleccion = null;\n    this.horaValores = this.claseSelecccionada.filter(function(item){\n    //console.log(item.soloFecha);\n     //console.log(valorSeleccionado);\n    \treturn item.soloFecha == valorSeleccionado;\n    });\n    console.log(this.horaValores);\n\n    }\n\n\n    seleccionClase(idClaseReserva){\n    this.idClaseReservaSeleccion = idClaseReserva;\n    console.log(this.horaValores);\n    }\n\n\t  public openModal(){\n    var data = { message : 'hello world' };\n    var modalPage = this.modalCtrl.create('LoginPage',data);\n    modalPage.present();\n\t\t}\n\n\n\n  \tpresentAlert(titulo,mensaje) {\n\t  let alert = this.alertCtrl.create({\n\t    title: titulo,\n\t    subTitle: mensaje,\n\t    buttons: ['Cerrar']\n\t  });\n\t  alert.present();\n\t}\n\n\n        reservarClase(){\n\n          this.apiProvider.verificarLogin()\n    .then(data => {    \n\n      console.log(data);\n      data ? this.agregarReserva(data.idUsuario) : this.openModal();\n\n     });\n\t\t// console.log(  this.idClaseReservaSeleccion);\n    }\n\n        agregarReserva(idUsuario){\n\t\t\tlet loading = this.loadingController.create({content : \"cargando...\"});\n\t\t\tloading.present();\n\t\t\treturn this.apiProvider.agregarReserva(idUsuario, this.idClaseReservaSeleccion)\n\t\t\t.then(data => {\n\t\t\tconsole.log(data);\n\t\t\tloading.dismissAll();\n\n\n\n\t\t\tif(data.data && (data.data.affectedRows  > 0)){\n\n\t\t\tconsole.log(data);\n\t\t\tthis.presentAlert('Enhorabuena!','Enhorabuena! Ya estas inscrit@ en esta clase');\n\t\t\t}\n\n\t\t\telse{\n\t\t\tconsole.log('nodata');\n\t\t\tdata.data.errno == 1062 ? this.presentAlert('Anotado','Ya estas anotado a esta clase') :\n\t\t\tthis.presentAlert('Ups!','Ha ocurrido un error inesperado');\n\t\t\t//this.presentAlert('Anotado','Ya estas inscrit@ en esta clase');\n\t\t\t}\n\n\n\n\t\t\t});\n    \t}\n\n\n\n\n\n    cambioDeClase(valorSeleccionado){\n    this.fechaValores = this.removeDuplicatesBy('soloFecha', this.valoresClases[valorSeleccionado]);\n    this.claseSelecccionada = this.valoresClases[valorSeleccionado];\n    this.horaValores = [];\n    this.idClaseReservaSeleccion = null;\n\n\n   // console.log(this.valoresClases[valorSeleccionado]);\n    //this.indexSeleccionado = valorSeleccionado;\n    //this.fechaValores = this.valoresClases[valorSeleccionado];\n\n\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reservar/reservar.ts"],"sourceRoot":""}